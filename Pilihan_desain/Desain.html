<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Galeri Desain Kumina</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #fafafa;
        margin: 0;
        padding: 20px;
    }

    .post {
        width: 350px;
        background: white;
        margin: 20px auto;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        overflow: hidden;
    }

    .post img {
        width: 100%;
        display: block;
    }

    .post-info {
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .like-btn {
        font-size: 22px;
        cursor: pointer;
        user-select: none;
    }

    .count {
        font-size: 16px;
    }
</style>

</head>
<body>

<div id="container"></div>

<script>
    const container = document.getElementById("container");

    async function checkImage(url) {
        try {
            const res = await fetch(url, { method: "HEAD" });
            return res.ok;
        } catch {
            return false;
        }
    }

    async function loadImages() {
        for (let i = 1; i <= 10; i++) {
            const path = `image/${i}.png`;
            const exists = await checkImage(path);

            if (!exists) continue; // skip kalau tidak ada

            const post = document.createElement("div");
            post.className = "post";

            let likeCount = localStorage.getItem(`like_${i}`) || 0;

            post.innerHTML = `
                <img src="${path}" alt="Desain ${i}">

                <div class="post-info">
                    <span class="like-btn" onclick="like(${i})">❤️</span>
                    <span id="count_${i}" class="count">${likeCount} suka</span>
                </div>
            `;

            container.appendChild(post);
        }
    }

    function like(id) {
        let current = parseInt(localStorage.getItem(`like_${id}`) || 0);
        current++;
        localStorage.setItem(`like_${id}`, current);
        document.getElementById(`count_${id}`).textContent = current + " suka";
    }

    loadImages();
</script>

</body>
</html>
